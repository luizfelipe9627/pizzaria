let pizzaJson=[{id:1,name:"Mussarela",img:"https://luizfelipe9627.github.io/pizzaria/assets/image/pizza1.webp",price:20.19,sizes:["100g","530g","860g"],description:"Descrição da pizza em mais de uma linha muito legal bem interessante"},{id:2,name:"Calabresa",img:"https://luizfelipe9627.github.io/pizzaria/assets/image/pizza2.webp",price:18,sizes:["320g","530g","860g"],description:"Descrição da pizza em mais de uma linha muito legal bem interessante"},{id:3,name:"Quatro Queijos",img:"https://luizfelipe9627.github.io/pizzaria/assets/image/pizza3.webp",price:17.45,sizes:["320g","530g","860g"],description:"Descrição da pizza em mais de uma linha muito legal bem interessante"},{id:4,name:"Americana",img:"https://luizfelipe9627.github.io/pizzaria/assets/image/pizza4.webp",price:19.77,sizes:["320g","530g","860g"],description:"Descrição da pizza em mais de uma linha muito legal bem interessante"},{id:5,name:"Sorvete",img:"https://luizfelipe9627.github.io/pizzaria/assets/image/pizza5.webp",price:21.43,sizes:["320g","530g","860g"],description:"Descrição da pizza em mais de uma linha muito legal bem interessante"},{id:6,name:"Moda da Casa",img:"https://luizfelipe9627.github.io/pizzaria/assets/image/pizza6.webp",price:18.55,sizes:["320g","530g","860g"],description:"Descrição da pizza em mais de uma linha muito legal bem interessante"},{id:7,name:"Chocolate",img:"https://luizfelipe9627.github.io/pizzaria/assets/image/pizza7.webp",price:22.36,sizes:["320g","530g","860g"],description:"Descrição da pizza em mais de uma linha muito legal bem interessante"}];const qS=e=>document.querySelector(e),qSA=e=>document.querySelectorAll(e);let modalQt=1,cart=[],modalKey=0;function closeModal(){qS(".pizzaWindowArea").style.opacity=0,setTimeout(()=>{qS(".pizzaWindowArea").style.display="none"},500)}function updateCart(){if(qS(".menu-openner span").innerHTML=cart.length,0<cart.length){qS("aside").classList.add("show"),qS(".cart").innerHTML="";let t=0,s=0,n=0;for(let a in cart){var r=pizzaJson.find(e=>e.id==cart[a].id);t+=r.price*cart[a].qt;let e,i=(0==cart[a].size&&(e="P"),1==cart[a].size&&(e="M"),2==cart[a].size&&(e="G"),qS(".models .cart--item").cloneNode(!0));qS(".cart").append(i),i.querySelector("img").src=r.img,i.querySelector(".cart--item--qt").innerHTML=cart[a].qt;r=`${r.name} (${e})`;i.querySelector(".cart--item-nome").innerHTML=r,i.querySelector(".cart--item-qtmais").addEventListener("click",()=>{cart[a].qt++,updateCart()}),i.querySelector(".cart--item-qtmenos").addEventListener("click",()=>{1<cart[a].qt?cart[a].qt--:cart.splice(a,1),updateCart()}),s=.1*t,n=t-s,qS(".subtotal span:last-child").innerHTML="R$ "+t.toFixed(2),qS(".desconto span:last-child").innerHTML="R$ "+s.toFixed(2),qS(".total span:last-child").innerHTML="R$ "+n.toFixed(2)}}else qS("aside").classList.remove("show"),qS("aside").style.left="100vw"}pizzaJson.map((e,i)=>{let a=qS(".models .pizza-item").cloneNode(!0);qS(".pizza-area").append(a),a.setAttribute("data-key",i),a.querySelector(".pizza-item--img img").src=e.img,a.querySelector(".pizza-item--price").innerHTML="R$ "+e.price.toFixed(2),a.querySelector(".pizza-item--name").innerHTML=e.name,a.querySelector(".pizza-item--desc").innerHTML=e.description,a.querySelector("a").addEventListener("click",e=>{e.preventDefault();let a=e.target.closest(".pizza-item").getAttribute("data-key");modalQt=1,modalKey=a,qS(".pizzaWindowArea").style.opacity=0,qS(".pizzaWindowArea").style.display="flex",setTimeout(()=>{qS(".pizzaWindowArea").style.opacity=1},200),qS(".pizzaBig img").src=pizzaJson[a].img,qS(".pizzaInfo h1").innerHTML=pizzaJson[a].name,qS(".pizzaInfo--desc").innerHTML=pizzaJson[a].description,qS(".pizzaInfo--size.selected").classList.remove("selected"),qSA(".pizzaInfo--size").forEach((e,i)=>{e.querySelector("span").innerHTML=pizzaJson[a].sizes[i],2==i&&e.classList.add("selected")}),qS(".pizzaInfo--actualPrice").innerHTML="R$ "+pizzaJson[a].price.toFixed(2),qS(".pizzaInfo--qt").innerHTML=modalQt})}),qSA(".pizzaInfo--cancelButton, .pizzaInfo--cancelMobileButton").forEach(e=>{e.addEventListener("click",closeModal)}),qS(".pizzaInfo--qtmais").addEventListener("click",()=>{modalQt++,qS(".pizzaInfo--qt").innerHTML=modalQt}),qS(".pizzaInfo--qtmenos").addEventListener("click",()=>{1<modalQt&&(modalQt--,qS(".pizzaInfo--qt").innerHTML=modalQt)}),qSA(".pizzaInfo--size").forEach((i,e)=>{i.addEventListener("click",e=>{qS(".pizzaInfo--size.selected").classList.remove("selected"),i.classList.add("selected")})}),qS(".pizzaInfo--addButton").addEventListener("click",()=>{var e=qS(".pizzaInfo--size.selected").getAttribute("data-key");let i=pizzaJson[modalKey].id+"@"+e;var a=cart.findIndex(e=>e.identifier==i);-1<a?cart[a].qt+=modalQt:cart.push({id:pizzaJson[modalKey].id,size:e,qt:modalQt}),updateCart(),closeModal()}),qS(".menu-openner").addEventListener("click",()=>{0<cart.length&&(qS("aside").style.left="0")}),qS(".menu-closer").addEventListener("click",()=>{qS("aside").style.left="100vw"});